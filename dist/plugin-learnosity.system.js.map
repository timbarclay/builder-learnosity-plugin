{"version":3,"file":"plugin-learnosity.system.js","sources":["../src/CloudinaryMediaLibraryDialog.tsx","../src/CloudinaryCredentialsDialog.tsx","../src/CloudinaryImageEditor.tsx"],"sourcesContent":["/** @jsx jsx */\nimport React, { Fragment } from 'react';\nimport { jsx } from '@emotion/core';\nimport { Dialog, Button, DialogActions } from '@material-ui/core';\n\ninterface CloudinaryMediaLibraryDialogProps {\n  openDialog: boolean;\n  closeDialog(): void;\n  selectImage(image: CloudinaryImage): void;\n  apiKey: string | undefined;\n  cloudName: string | undefined;\n}\n\nexport interface CloudinaryImage {\n  context: any;\n  public_id: string;\n  url: string;\n  tags: any[];\n  derived: any[];\n}\n\nexport class CloudinaryMediaLibraryDialog extends React.Component<CloudinaryMediaLibraryDialogProps> {\n  private generateNewMediaLibrary(): any {\n    let mediaLibrary: any;\n    const newWindow = window as any;\n    if (newWindow.cloudinary) {\n      mediaLibrary = this.createMediaLibrary(mediaLibrary, newWindow);\n    }\n    return mediaLibrary;\n  }\n\n  private openCloudinaryMediaLibrary() {\n    const mediaLibrary = this.generateNewMediaLibrary();\n    this.showMediaLibrary(mediaLibrary);\n  }\n\n  private showMediaLibrary(mediaLibrary: any) {\n    if (mediaLibrary) {\n      mediaLibrary.show({\n        multiple: false,\n        max_files: 1,\n      });\n    }\n  }\n\n  private createMediaLibrary(mediaLibrary: any, newWindow: any) {\n    mediaLibrary = newWindow.cloudinary.createMediaLibrary(\n      {\n        cloud_name: this.props.cloudName ? this.props.cloudName : '',\n        api_key: this.props.apiKey ? this.props.apiKey : '',\n        inline_container: '.cloudinaryContainer',\n      },\n      {\n        insertHandler: (data: any) => {\n          this.selectImage({\n            ...data.assets[0],\n          });\n        },\n      }\n    );\n    return mediaLibrary;\n  }\n\n  private selectImage(cloudinaryData: any): void {\n    this.props.selectImage(cloudinaryData);\n    this.props.closeDialog();\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <Dialog\n          open={this.props.openDialog}\n          onClose={this.props.closeDialog}\n          fullWidth={true}\n          maxWidth=\"lg\"\n          onRendered={() => {\n            this.openCloudinaryMediaLibrary();\n          }}\n        >\n          <div className=\"cloudinaryContainer\" css={{ height: '90vh' }} />\n          <DialogActions>\n            <Button autoFocus onClick={this.props.closeDialog} color=\"primary\">\n              Close media library\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n","/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport React from 'react';\nimport {\n  Dialog,\n  Button,\n  DialogActions,\n  DialogTitle,\n  DialogContent,\n  TextField,\n} from '@material-ui/core';\n\ninterface CloudinaryCredentialsDialogProps {\n  openDialog: boolean;\n  apiKey: string | undefined;\n  cloudName: string | undefined;\n  closeDialog(): void;\n  updateCloudinaryCredentials(apiKey: string, cloudName: string): void;\n}\n\ninterface CloudinaryCredentialsDialogState {\n  apiKey: string;\n  cloudName: string;\n}\n\nexport default class CloudinaryCredentialsDialog extends React.Component<\n  CloudinaryCredentialsDialogProps,\n  CloudinaryCredentialsDialogState\n> {\n  constructor(props: CloudinaryCredentialsDialogProps) {\n    super(props);\n    this.state = {\n      apiKey: this.props.apiKey ? this.props.apiKey : '',\n      cloudName: this.props.cloudName ? this.props.cloudName : '',\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <Dialog open={this.props.openDialog} onClose={this.props.closeDialog}>\n          <DialogTitle>Cloudinary credentials setup</DialogTitle>\n          <DialogContent>\n            <TextField\n              value={this.state.apiKey}\n              onChange={(e: any) => this.setState({ apiKey: e.target.value })}\n              id=\"apiKey\"\n              label=\"API key\"\n              helperText=\"You just have to setup the API key once and it will be linked to your organization\"\n              margin=\"normal\"\n              autoComplete=\"off\"\n            />\n            <TextField\n              value={this.state.cloudName}\n              onChange={(e: any) => this.setState({ cloudName: e.target.value })}\n              id=\"cloudName\"\n              label=\"Cloud name\"\n              helperText=\"You just have to setup the cloud name once and it will be linked to your organization\"\n              margin=\"normal\"\n              autoComplete=\"off\"\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.props.closeDialog} color=\"primary\">\n              Close\n            </Button>\n            <Button\n              onClick={() => {\n                this.props.updateCloudinaryCredentials(this.state.apiKey, this.state.cloudName);\n                this.props.closeDialog();\n              }}\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n","/** @jsx jsx */\nimport React from 'react';\nimport { jsx } from '@emotion/core';\nimport { Builder } from '@builder.io/sdk';\nimport { Typography, Button } from '@material-ui/core';\nimport { CloudinaryMediaLibraryDialog, CloudinaryImage } from './CloudinaryMediaLibraryDialog';\nimport CloudinayCredentialsDialog from './CloudinaryCredentialsDialog';\n\ninterface Props {\n  value?: any;\n  onChange(newValue: CloudinaryImage): void;\n  context: any;\n}\n\n// No need to use username for cloudinary login if SSO is enabled\ninterface CloudinaryImageEditorState {\n  showDialog: boolean;\n  apiKey: string | undefined;\n  cloudName: string | undefined;\n  requestCredentials: boolean;\n  selectedImagePublicId: string | undefined;\n}\n\ntype ButtonVariant = 'text' | 'contained';\n\nexport default class CloudinaryImageEditor extends React.Component<\n  Props,\n  CloudinaryImageEditorState\n> {\n  get organization() {\n    return this.props.context.user.organization;\n  }\n\n  get cloudinaryCloud(): string | undefined {\n    return this.organization.value.settings.plugins.get('cloudinaryCloud');\n  }\n\n  set cloudinaryCloud(cloud: string | undefined) {\n    this.organization.value.settings.plugins.set('cloudinaryCloud', cloud);\n    this.organization.save();\n  }\n\n  get cloudinaryKey(): string | undefined {\n    return this.organization.value.settings.plugins.get('cloudinaryKey');\n  }\n\n  set cloudinaryKey(key: string | undefined) {\n    this.organization.value.settings.plugins.set('cloudinaryKey', key);\n    this.organization.save();\n  }\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      requestCredentials: false,\n      showDialog: false,\n      apiKey: this.cloudinaryKey ? this.cloudinaryKey : '',\n      cloudName: this.cloudinaryCloud ? this.cloudinaryCloud : '',\n      selectedImagePublicId:\n        props.value && props.value.get && props.value.get('public_id')\n          ? props.value.get('public_id')\n          : '',\n    };\n  }\n\n  private closeDialog() {\n    this.setState({\n      requestCredentials: false,\n      showDialog: false,\n    });\n  }\n\n  private appendMediaLibraryScriptToPlugin() {\n    const previousScript = document.getElementById('cloudinaryScript');\n    if (!previousScript) {\n      const script = document.createElement('script');\n      script.async = true;\n      script.src = `https://media-library.cloudinary.com/global/all.js`;\n      script.id = 'cloudinaryScript';\n      document.head.appendChild(script);\n    }\n  }\n\n  private areCloudinaryCredentialsNotSet(): boolean {\n    return (\n      this.state.apiKey === '' ||\n      this.state.cloudName === '' ||\n      this.state.apiKey === undefined ||\n      this.state.cloudName === undefined\n    );\n  }\n\n  private shouldRequestCloudinaryCredentials() {\n    return this.state.requestCredentials || this.areCloudinaryCredentialsNotSet();\n  }\n\n  private updateCloudinaryCredentials(apiKey: string, cloudName: string) {\n    this.cloudinaryKey = apiKey;\n    this.cloudinaryCloud = cloudName;\n    this.setState({\n      apiKey: this.cloudinaryKey,\n      cloudName: this.cloudinaryCloud,\n    });\n  }\n\n  private calculateChooseImageButtonVariant(): ButtonVariant {\n    return this.areCloudinaryCredentialsNotSet() ? 'contained' : 'text';\n  }\n\n  private selectImage(image: CloudinaryImage) {\n    this.props.onChange(image);\n    this.setState({ selectedImagePublicId: image.public_id });\n  }\n\n  buildSelectedIdMessage(): string {\n    if (this.state.selectedImagePublicId) {\n      return `Public id: ${this.state.selectedImagePublicId}`;\n    }\n\n    return 'Please choose an image';\n  }\n\n  buildChooseImageText(): string {\n    if (this.state.selectedImagePublicId) {\n      return `UPDATE IMAGE`;\n    }\n\n    return 'CHOOSE IMAGE';\n  }\n\n  setCredentialsButtonText(): string {\n    return this.areCloudinaryCredentialsNotSet() ? 'Set credentials' : '...';\n  }\n\n  componentDidMount() {\n    this.appendMediaLibraryScriptToPlugin();\n  }\n\n  render() {\n    const shouldRequestCloudinarySettings = this.shouldRequestCloudinaryCredentials();\n    const setCredentialsButtonVariant = this.calculateChooseImageButtonVariant();\n    const selectedPublicIdMessage = this.buildSelectedIdMessage();\n    const chooseImageButtonText = this.buildChooseImageText();\n    const setCredentialsButtonText = this.setCredentialsButtonText();\n    const buttonContainerStyle = {\n      display: 'grid',\n      gap: '10px',\n      gridTemplateColumns: '1fr max-content',\n      marginTop: '5px',\n      marginBottom: '5px',\n    };\n    return (\n      <div css={{ padding: '15px 0' }}>\n        <Typography variant=\"caption\">Cloudinary image picker</Typography>\n        {shouldRequestCloudinarySettings && (\n          <CloudinayCredentialsDialog\n            openDialog={this.state.showDialog}\n            closeDialog={this.closeDialog.bind(this)}\n            updateCloudinaryCredentials={this.updateCloudinaryCredentials.bind(this)}\n            apiKey={this.state.apiKey}\n            cloudName={this.state.cloudName}\n          />\n        )}\n        {!shouldRequestCloudinarySettings && (\n          <CloudinaryMediaLibraryDialog\n            openDialog={this.state.showDialog}\n            closeDialog={this.closeDialog.bind(this)}\n            selectImage={this.selectImage.bind(this)}\n            apiKey={this.state.apiKey}\n            cloudName={this.state.cloudName}\n          />\n        )}\n\n        <div css={buttonContainerStyle}>\n          <Button\n            disabled={this.areCloudinaryCredentialsNotSet()}\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => {\n              this.setState({\n                showDialog: !this.state.showDialog,\n              });\n            }}\n          >\n            {chooseImageButtonText}\n          </Button>\n\n          <Button\n            variant={setCredentialsButtonVariant}\n            color=\"primary\"\n            onClick={() => {\n              this.setState({\n                requestCredentials: true,\n                showDialog: !this.state.showDialog,\n              });\n            }}\n          >\n            {setCredentialsButtonText}\n          </Button>\n        </div>\n        <div>\n          <Typography css={{ margin: '5px' }} variant=\"caption\">\n            {selectedPublicIdMessage}\n          </Typography>\n        </div>\n      </div>\n    );\n  }\n}\n\nBuilder.registerEditor({\n  name: 'learnosityEditor',\n  component: CloudinaryImageEditor,\n});\n"],"names":["CloudinayCredentialsDialog"],"mappings":"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"}lD,EAAA,uBAAuB,CACb,CACT,CACF,EACN;OACH;EACF,CAAA;AAEDE,aAAO,CAAC,cAAc,CAAC;EACrB,IAAA,IAAI,EAAE,kBAAkB;EACxB,IAAA,SAAS,EAAE,qBAAqB;EACjC,CAAA,CAAC;;;;;;;;"}